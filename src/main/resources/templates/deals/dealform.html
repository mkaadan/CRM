<html xmlns:th="http://www.thymeleaf.org" layout:decorator="layout">
  <th:block layout:fragment="content">
    <div class="wrapper">
        <div class="container">
          <div class="spacer">
            <div th:replace="fragments/welcomemessage :: welcomeMessage">
            </div>
          </div>
          <div class="single-space"></div>
          <form  class="row" th:object="${dealData}" th:action="@{|/deal/${action}|}" method="post">
            <div class="col-lg-12">
              <div class = "row">
                 <div class="col-lg-12 title-gap">
                   <h3> Basic Information </h3>
                 </div>
               </div>
              <div class="form-group row">
                 <label for="source" class="col-lg-2 col-form-label">Deal Owner: </label>
                 <div class="col-lg-6">
                   <select class="form-control" name="source" th:field="*{owner}">
                     <option th:each="user : ${userData}"
                             th:value="${user.getAccountId()}"
                             th:text="${user.getName()}">
                     </option>
                   </select>
                 </div>
              </div>
              <div class="form-group row">
                <label for="firstName" class="col-lg-2 col-form-label">Deal Name: </label>
                <div class="col-lg-6">
                    <input class="form-control"
                           type="text"
                           name="dealName"
                           th:field="*{dealName}">
                    </input>
                </div>
                <div class="col-lg-4">
                  <span class="label label-danger"
                        th:if="${#fields.hasErrors('dealName')}"
                        th:errors="*{dealName}">
                  </span>
                </div>
              </div>
              <div class="form-group row">
                <label for="status" class="col-lg-2 col-form-label">Deal Type: </label>
                <div class="col-lg-6">
                  <select class="form-control" name="type" th:field="*{type}">
                    <option th:each="type : ${dealType}"
                            th:value="${type.getTypeId()}"
                            th:text="${type.getDescriptor()}"></option>
                  </select>
                </div>
              </div>
              <div class="form-group row">
                <label for="source" class="col-lg-2 col-form-label">Deal Stage: </label>
                <div class="col-lg-6">
                  <select class="form-control" name="stage" th:field="*{stage}">
                    <option th:each="stage : ${dealStage}"
                            th:value="${stage.getStageId()}"
                            th:text="${stage.getDescriptor()}">
                    </option>
                  </select>
                </div>
              </div>
              <div class="form-group row">
                <div class="col-lg-12">
                    <div class="row">
                      <div class="col-lg-12 title-gap">
                        <h3> Deal Information </h3>
                      </div>
                    </div>
                    <div class="form-group row">
                        <label for="primaryEmail" class="col-lg-2 col-form-label"> Primary Email: </label>
                        <div class="col-lg-6">
                          <input class="form-control"
                                 type="email"
                                 name="primaryEmail"
                                 th:field="*{primaryEmail.email}">
                          </input>
                        </div>
                        <div class="col-lg-4">
                          <span class="label label-danger"
                                th:if="${#fields.hasErrors('primaryEmail.email')}"
                                th:errors="*{primaryEmail.email}">
                          </span>
                        </div>
                    </div>
                    <div class="form-group row">
                        <label for="secondaryEmail" class="col-lg-2 col-form-label"> Secondary Email: </label>
                        <div class="col-lg-6">
                          <input class="form-control"
                                 type="email"
                                 name="secondaryEmail"
                                 th:field="*{secondaryEmail.email}">
                          </input>
                        </div>
                        <div class="col-lg-4">
                          <span class="label label-danger"
                                th:if="${#fields.hasErrors('secondaryEmail.email')}"
                                th:errors="*{secondaryEmail.email}">
                          </span>
                        </div>
                    </div>
                </div>
              </div>
              <div class="row">
              <div class="col-lg-7"></div>
              <button id="submit" type="submit" class="btn btn-primary btn-lg">Submit</button>
            </div>
            </div>
          </form>
        </div>
    </div>
  </th:block>
</html>
